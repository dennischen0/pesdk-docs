<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Export</title>

	<link rel="stylesheet" href="/assets/css/main.css">
	<link rel="canonical" href="https://docs.photoeditorsdk.com/guides/ios/v6_5/ui/photo_roll">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,800,600' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>

</head> 

<body>
  <nav>
  <ul>
    <il>
      
    </il>
    <il>
      Features
    </il>
    <il>
      Quickstarts
    </il>
  </ul>
</nav>
	<header>
	This is a header
</header>

	<main>
		<!--<aside>
	<div class="container">
		<nav>
      <ul>
        <il>
          Guides
        </il>
        <il>
          Features
        </il>
        <il>
          Quickstarts
        </il>
      </ul>
		</nav>
	</div>
</aside>-->

<article>
<h1>Export</h1>
<h1 id="photo-roll">Photo Roll</h1>

<p>Since version <code class="highlighter-rouge">3.4.0</code>, our Editor provides a Photo Roll screen the user can pick photos from.
The photos shown in the Photo Roll can be controlled using a <code class="highlighter-rouge">Provider</code>. The Provider implements a
couple of methods that the Editor will call in order to display Libraries, Suggested
Search Queries and Photos.</p>

<p>You can make the editor use the Provider by passing it via the <code class="highlighter-rouge">photoRoll.provider</code> option:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code>  <span class="kr">const</span> <span class="nx">editor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PhotoEditorSDK</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">ReactUI</span><span class="p">({</span>
    <span class="na">photoRoll</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">provider</span><span class="p">:</span> <span class="nx">UnsplashProvider</span>
    <span class="p">}</span>
  <span class="p">})</span>
</code></pre>
</div>

<h2 id="getlibraries">getLibraries()</h2>

<p>This method returns a Promise that should be resolved with an Array of <code class="highlighter-rouge">PhotoEditorSDK.UI.ReactUI.PhotoRoll.Library</code>
instances. Here is an example that returns one library called <code class="highlighter-rouge">Photos</code> and a cover image:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">PhotoRoll</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">PhotoEditorSDK</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">ReactUI</span>
<span class="kr">class</span> <span class="nx">UnsplashProvider</span> <span class="kr">extends</span> <span class="nx">PhotoRoll</span> <span class="p">{</span>
  <span class="cm">/**
   * Returns the libraries
   * @return {Promise}
   */</span>
  <span class="nx">getLibraries</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
      <span class="k">new</span> <span class="nx">ReactUI</span><span class="p">.</span><span class="nx">PhotoRoll</span><span class="p">.</span><span class="nx">Library</span><span class="p">({</span>
        <span class="na">name</span><span class="p">:</span> <span class="s1">'Photos'</span><span class="p">,</span>
        <span class="na">coverImage</span><span class="p">:</span> <span class="s1">'http://static.photoeditorsdk.com/unsplash/thumb/ZsB2MbzSHjI.jpg'</span>
      <span class="p">})</span>
    <span class="p">])</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The library will now be presented to the user like this:</p>

<p>&lt;%=md_image(“/assets/images/documentation/html5/photoroll-library.png”) %&gt;</p>

<h2 id="getphotosforlibrarylibrary">getPhotosForLibrary(library)</h2>

<p>This method returns a Promise that should be resolved with an Array of <code class="highlighter-rouge">PhotoEditorSDK.UI.ReactUI.PhotoRoll.Photo</code>
instances. This method can either access a remote server that responds with JSON, parse the JSON and
display images from a remote source, or just return a fixed number of images, like in this example:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">PhotoRoll</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">PhotoEditorSDK</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">ReactUI</span>
<span class="kr">class</span> <span class="nx">UnsplashProvider</span> <span class="kr">extends</span> <span class="nx">PhotoRoll</span> <span class="p">{</span>
  <span class="cm">/**
   * Returns the photos for the given library
   * @param {PhotoEditorSDK.UI.ReactUI.PhotoRoll.Library} library
   * @return {Promise}
   * @abstract
   */</span>
  <span class="nx">getPhotosForLibrary</span> <span class="p">(</span><span class="nx">library</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">library</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="s1">'Photos'</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
        <span class="k">new</span> <span class="nx">ReactUI</span><span class="p">.</span><span class="nx">PhotoRoll</span><span class="p">.</span><span class="nx">Photo</span><span class="p">(</span><span class="nx">library</span><span class="p">,</span> <span class="p">{</span>
          <span class="na">title</span><span class="p">:</span> <span class="s1">'Mmmmh, delicious fries'</span><span class="p">,</span>
          <span class="na">urls</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">raw</span><span class="p">:</span> <span class="s1">'http://static.photoeditorsdk.com/unsplash/raw/ZsB2MbzSHjI.jpg'</span><span class="p">,</span>
            <span class="na">thumb</span><span class="p">:</span> <span class="s1">'http://static.photoeditorsdk.com/unsplash/thumb/ZsB2MbzSHjI.jpg'</span>
          <span class="p">}</span>
        <span class="p">})</span>
      <span class="p">])</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The photo will now be presented to the user like this:</p>

<p>&lt;%=md_image(“/assets/images/documentation/html5/photoroll-photo.png”) %&gt;</p>

<h2 id="getsearchsuggestions">getSearchSuggestions()</h2>

<p>This method returns a Promise that should be resolved with an Array of <code class="highlighter-rouge">PhotoEditorSDK.UI.ReactUI.PhotoRoll.SearchSuggestion</code>
instances. Here is an example that returns one search suggestion with the search term <code class="highlighter-rouge">Nature</code>:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">PhotoRoll</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">PhotoEditorSDK</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">ReactUI</span>
<span class="kr">class</span> <span class="nx">UnsplashProvider</span> <span class="kr">extends</span> <span class="nx">PhotoRoll</span> <span class="p">{</span>
  <span class="cm">/**
   * Returns the search suggestions
   * @return {Promise}
   */</span>
  <span class="nx">getSearchSuggestions</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">([</span>
      <span class="k">new</span> <span class="nx">ReactUI</span><span class="p">.</span><span class="nx">PhotoRoll</span><span class="p">.</span><span class="nx">Library</span><span class="p">({</span>
        <span class="na">query</span><span class="p">:</span> <span class="s1">'Nature'</span><span class="p">,</span>
        <span class="na">coverImage</span><span class="p">:</span> <span class="s1">'http://static.photoeditorsdk.com/unsplash/thumb/Z_br8TOcCpE.jpg'</span>
      <span class="p">})</span>
    <span class="p">])</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The search suggestion will now be presented to the user like this:</p>

<p>&lt;%=md_image(“/assets/images/documentation/html5/photoroll-searchsuggestion.png”) %&gt;</p>

<p>Clicking the search suggestion will result in the search input field being pre-filled with the search
term (<code class="highlighter-rouge">Nature</code>), which will trigger a search.</p>

<h2 id="searchphotosquery">searchPhotos(query)</h2>

<p>This method returns a Promise that should be resolved with an Array of <code class="highlighter-rouge">PhotoEditorSDK.UI.ReactUI.PhotoRoll.Photo</code>
instances. Here is an example that calls <code class="highlighter-rouge">getPhotosForLibrary(null)</code>, which will return an array of Photos.
It will then filter the results and return only the results that contain at least one of the search terms:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">PhotoRoll</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">PhotoEditorSDK</span><span class="p">.</span><span class="nx">UI</span><span class="p">.</span><span class="nx">ReactUI</span>
<span class="kr">class</span> <span class="nx">UnsplashProvider</span> <span class="kr">extends</span> <span class="nx">PhotoRoll</span> <span class="p">{</span>
  <span class="cm">/**
   * Searches for photos with the given query
   * @param {String} query
   * @return {Promise}
   */</span>
  <span class="nx">searchPhotos</span> <span class="p">(</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">words</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">+/i</span><span class="p">)</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPhotosForLibrary</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">photos</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">photos</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">photo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">photo</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span>
          <span class="k">return</span> <span class="nx">words</span><span class="p">.</span><span class="nx">some</span><span class="p">((</span><span class="nx">word</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">title</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">})</span>
      <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

</article>
	</main>
  <footer>
	This is a Footer
</footer>
</body>

</html>