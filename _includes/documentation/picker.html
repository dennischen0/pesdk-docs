{% assign current_platform= include.platform %}
{% assign android_guides = site.guides | where: "platform", platform %}
{% assign guides_by_version = android_guides | group_by: "version" | sort: "name" | reverse %}
{% assign platforms = "Html5|iOS|Android" | split: "|" %}

<div class="documentation-picker">
  {% for platform in platforms %}
    {% assign platform_downcase = platform | downcase %}
    {% if platform_downcase == current_platform %}
      <div class="documentation-picker__item documentation-picker__item--{{platform_downcase}} documentation-picker__item--{{platform_downcase}}--active">
        <a class="is-active" href="{{site.baseurl}}/guides/{{platform_downcase}}">{{platform}}</a>
      </div>
    {% else %}
      <div class="documentation-picker__item documentation-picker__item--{{platform_downcase}}">
        <a href="{{site.baseurl}}/guides/{{platform_downcase}}">{{platform}}</a>
      </div>
    {% endif %}
      
  {% endfor %}  

  <div class="documentation-picker__spacer"></div>

  {% for guide in guides_by_version %}
    <div class="documentation-picker__item" >
      {% if guide.name == include.version %}
        <a class="is-active" href="{{site.baseurl}}/guides/android/{{guide.name}}">{{ guide.name | replace: '_', '.' }}</a>
      {% else %}
        <a href="{{site.baseurl}}/guides/{{platform}}/{{guide.name}}">{{ guide.name | replace: '_', '.' }}</a>
      {% endif %}
    </div>
  {% endfor %}
</div>
