
{% assign platform = include.platform %}
{% assign version = include.version %}

{% assign subpages = site.guides | where: "platform", platform | where: "version", version | sort: "order" %}

{% assign intropages = subpages | where: "category", "introduction" %}
{% assign feature_pages = subpages | where: "category", "feature" %}
{% assign ui_pages = subpages | where: "category", "ui" %}

{% assign resource_pages = subpages | where: "category", "resource" %}

<div class="documentation-subnavigation">
  <div class="documentation-subnavigation__container">
      {% include documentation/search.html %}
      {% include documentation/picker.html platform=platform %}
      {% include documentation/spacer.html %}
      <ul class="documentation-subnavigation__list">
        <li class="documentation-subnavigation__list__header">
          Introduction
          <ul>
            {% for p in intropages %}
              <li class="documentation-subnavigation__list__item">
                {% if p.url == page.url %}
                  <a class="is-active" href="{{p.url}}">{{p.menuitem}}</a>
                {% else %}
                  <a href="{{p.url}}"> {{p.menuitem}} </a>
                {% endif %}
              </li>              
            {% endfor %}
          </ul>
        </li>
        
        <li class="documentation-subnavigation__list__header">
          Features
          {% for p in feature_pages %}
            <li class="documentation-subnavigation__list__item">
              {% if p.url == page.url %}
                <a class="is-active" href="{{p.url}}"> {{p.menuitem}} </a>
              {% else %}
                <a href="{{p.url}}"> {{p.menuitem}} </a>
              {% endif %}
            </li>   
          {% endfor %}
        </li>
        
        <li class="documentation-subnavigation__list__header">
          User Interface
           <ul>
            {% for p in ui_pages %}
              <li class="documentation-subnavigation__list__item">
                {% if p.url == page.url %}
                  <a class="is-active" href="{{p.url}}"> {{p.menuitem}} </a>
                {% else %}
                  <a href="{{p.url}}"> {{p.menuitem}} </a>
                {% endif %}
              </li>   
            {% endfor %}
          </ul>
        </li>
        
        <li class="documentation-subnavigation__list__header">
          Resources
          <ul>
            {% for p in resource_pages %}
              <li class="documentation-subnavigation__list__item">
                {% if p.url == page.url %}
                  <a class="is-active" href="{{p.url}}"> {{p.menuitem}} </a>
                {% else %}
                  <a href="{{p.url}}"> {{p.menuitem}} </a>
                {% endif %}
              </li>   
            {% endfor %}
          </ul>
        </li>
      </ul>
  </div> 
</div> 
